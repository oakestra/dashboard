<!--TODO Improve this code, use a form and simplify it-->
<nb-card>
    <nb-card-header> {{title}} </nb-card-header>
    <nb-card-body>
        <div class="w3-row">
            <div class="w3-col l6 s12 m6">
                <label><i>Cluster ID</i></label>
            </div>
        </div>

        <div class="w3-col l12 s12 m12">
            <nb-form-field class="full-width input">
                <p>Write the name of your Cluster</p>
                <input
                    class="form-control"
                    [disabled]="action ==='Update'"
                    [(ngModel)]="local_data.cluster_name"
                    placeholder="Cluster name"
                />
            </nb-form-field>
        </div>

        <div class="w3-col l12 s12 m12">
            <nb-form-field class="full-width">
                <p>Select Cluster Location</p>

                <form class="card-form">
                    <div class="row">
                        <div class="col-6 m2">
                            <label for="lat">Latitude</label>
                            <input
                                class="form-control"
                                type="text"
                                id="lat"
                                [disabled]="action ==='Update'"
                                [(ngModel)]="local_data.cluster_latitude"
                                placeholder="latitude"
                                [formControl]="lat_form"
                                required
                            />
                        </div>
                        <div class="col-6 m2">
                            <label for="lat">Longitude</label>
                            <input
                                class="form-control"
                                type="text"
                                id="lng"
                                [disabled]="action ==='Update'"
                                [(ngModel)]="local_data.cluster_longitude"
                                placeholder="longitude"
                                [formControl]="lng_form"
                                required
                            />
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col-6 m2">
                            <label for="lat">Radius</label>
                            <input
                                class="form-control"
                                type="text"
                                name="rad"
                                id="rad"
                                [disabled]="action ==='Update'"
                                placeholder="20"
                                value="{{my_radius}}"
                                #newValue
                                (change)="radiusChange(newValue)"
                                [(ngModel)]="local_data.cluster_radius"
                                required
                            />
                        </div>
                    </div>
                </form>
                <div class="map-container">
                    <div class="map-frame">
                        <div id="map"></div>
                    </div>
                </div>
            </nb-form-field>
        </div>
    </nb-card-body>
    <nb-card-footer>
        <button (click)="doAction()" status="primary" nbButton>{{local_data.action}}</button>
        <button (click)="deleteCluster()" status="warning" *ngIf="action ==='Update'" nbButton>Delete</button>
        <button (click)="closeDialog()" status="accent" nbButton>Cancel</button>
    </nb-card-footer>
</nb-card>
