<nb-layout>
    <nb-layout-column>
        <nb-card class="login-form">
            <img alt="Oakestra Logo" src="../../../../assets/img/color-full.png" />
            <form [formGroup]="form" accept-charset="UTF-8" role="form">
                <div class="info">
                    <nb-checkbox (checkedChange)="tabChanged($event)" status="basic">Organization login</nb-checkbox>
                    <nb-icon nbSuffix icon="info" nbTooltip="{{ sm_ip }}" pack="eva"></nb-icon>
                </div>

                <nb-form-field *ngIf="useOrganization">
                    <input
                        type="text"
                        fullWidth
                        nbInput
                        formControlName="organization_name"
                        placeholder="Organization"
                    />
                    <nb-icon nbSuffix icon="people" pack="eva"></nb-icon>
                </nb-form-field>

                <nb-form-field>
                    <input type="text" fullWidth nbInput formControlName="username" placeholder="Username" />
                    <nb-icon nbSuffix icon="person-outline" pack="eva"></nb-icon>
                </nb-form-field>

                <nb-form-field>
                    <input
                        placeholder="Password"
                        fullWidth
                        formControlName="password"
                        [type]="getInputType()"
                        nbInput
                    />
                    <button nbSuffix nbButton ghost (click)="toggleShowPassword()">
                        <nb-icon
                            [icon]="showPassword ? 'eye-outline' : 'eye-off-2-outline'"
                            pack="eva"
                            [attr.aria-label]="showPassword ? 'hide password' : 'show password'"
                        >
                        </nb-icon>
                    </button>
                </nb-form-field>
                <span (click)="forgotPassword()" class="pull-right text-primary link">Forgot password?</span>
            </form>
            <div class="centerButton">
                <button [disabled]="form.invalid" (click)="submitLogin()" nbButton outline status="primary">
                    Sign in
                </button>
            </div>
        </nb-card>
    </nb-layout-column>
</nb-layout>
